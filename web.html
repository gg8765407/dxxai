<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Canvas Demo</title>
  <style>
    /* 设置canvas元素全屏显示 */
    canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1; /* 将canvas放到最底层 */
    }

    /* 隐藏滚动条 */
    body {
      overflow: hidden;
    }
  </style>
</head>
<body>
  <!-- 添加全屏的canvas元素 -->
  <canvas id="myCanvas"></canvas>

  <script>
    const canvas = document.getElementById("myCanvas");
    const ctx = canvas.getContext("2d");

    const images = [];
    let currentImageIndex = 0;

    for (let i = 1; i <= 219; i++) {
        const img = new Image();
        img.src = "png/a (" + i + ").png";
        images.push(img);
    }

    function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        const scale = Math.min(canvas.width / images[currentImageIndex].width, canvas.height / images[currentImageIndex].height);
        const width = images[currentImageIndex].width * scale;
        const height = images[currentImageIndex].height * scale;
        const x = (canvas.width - width) / 2;
        const y = (canvas.height - height) / 2;
        ctx.drawImage(images[currentImageIndex], x, y, width, height);
    }

    function changeImage(index) {
        currentImageIndex = index;
        draw();
    }

    document.addEventListener("keydown", (event) => {
        switch (event.keyCode) {
            case 37:
                if (currentImageIndex > 0) {
                    changeImage(currentImageIndex - 1);
                }
                break;
            case 39:
                if (currentImageIndex < images.length - 1) {
                    changeImage(currentImageIndex + 1);
                }
                break;
        }
    });

    images[0].onload = () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        setInterval(() => {
            if (currentImageIndex < images.length - 1) {
                currentImageIndex++;
            } else {
                currentImageIndex = 0;
            }
            draw();
        }, 50);
    };
  </script>
</body>
</html>
