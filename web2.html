<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Starry Night</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #000;
      overflow: hidden;
    }

    #stars {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }

    .star {
      position: absolute;
      width: 2px;
      height: 2px;
      background-color: #fff;
      border-radius: 50%;
      opacity: 0;
      animation: twinkling 4s infinite;
      animation-delay: 0s;
      transition: opacity ease-in-out 0.5s;
    }

    .star:nth-child(1) {
      animation-delay: 0s;
    }

    .star:nth-child(2) {
      animation-delay: 3s;
    }

    .star:nth-child(3) {
      animation-delay: 6s;
    }

    .star:nth-child(4) {
      animation-delay: 9s;
    }

    .star:nth-child(5) {
      animation-delay: 12s;
    }

    .star:nth-child(6) {
      animation-delay: 15s;
    }

    .star:nth-child(7) {
      animation-delay: 18s;
    }

    .star:nth-child(8) {
      animation-delay: 21s;
    }

    .star:nth-child(9) {
      animation-delay: 24s;
    }

    .star:nth-child(10) {
      animation-delay: 27s;
    }

    @keyframes twinkling {
      0% {
        opacity: 0;
      }

      50% {
        opacity: 1;
      }

      100% {
        opacity: 0;
      }
    }

    #volume {
      position: absolute;
      bottom: 20px;
      right: 20px;
      width: 32px;
      height: 32px;
      background-color: #fff;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    #volume.playing:after {
      content: "";
      position: absolute;
      top: 25%;
      left: 25%;
      border-top: 6px solid transparent;
      border-bottom: 6px solid transparent;
      border-left: 10px solid #000;
    }
  </style>
</head>

<body>
  <div id="stars"></div>
  <audio id="synthwave-track" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" loop></audio>
  <div id="volume"></div>

  <script>
    const getRandomInt = (min, max) => {
      min = Math.ceil(min);
      max = Math.floor(max);
      return Math.floor(Math.random() * (max - min) + min); // The maximum is exclusive and the minimum is inclusive
    };

    const stars = document.getElementById("stars");

    const render = () => {
      // Create stars âœ¨
      stars.innerHTML = "";
      const w = window.innerWidth;
      const h = window.innerHeight;
    const starCount = getRandomInt(42, 100);
   for (let i = 0; i < starCount; i++) {
    const star = document.createElement("div");
    star.classList.add("star");
    const x = getRandomInt(0, w);
    const y = getRandomInt(0, h);
    star.style.setProperty("--x", `${x}px`);
    star.style.setProperty("--y", `${y}px`);
    stars.appendChild(star);
  }
};

requestAnimationFrame(render);
const volume = document.getElementById("volume");
const audio = document.getElementById("synthwave-track");

const volumeToggle = () => {
  if (volume.classList.contains("playing")) {
    volume.classList.remove("playing");
    audio.pause();
  } else {
    volume.classList.add("playing");
    audio.play();
  }
};

volume.addEventListener("pointerdown", () => volumeToggle());
volume.addEventListener("keydown", (e) => {
  if (e.code === "Space" || e.code === "Enter") {
    volumeToggle();
  }
});

window.addEventListener("resize", () => requestAnimationFrame(render));
  </script>
</body>
</html>
